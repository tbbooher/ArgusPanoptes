(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{1150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let n=r(95155),l=r(12115),a=r(24437);function o(e){return{default:e&&"default"in e?e.default:e}}r(36552);let s={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t={...s,...e},r=(0,l.lazy)(()=>t.loader().then(o)),u=t.loading;function i(e){let o=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,i=s?l.Suspense:l.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i,{...s?{fallback:o}:{},children:c})}return i.displayName="LoadableComponent",i}},8567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(17828)},11754:(e,t,r)=>{Promise.resolve().then(r.bind(r,22714))},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(64054).createAsyncLocalStorage)()},22714:(e,t,r)=>{"use strict";r.d(t,{MapClient:()=>o});var n=r(95155),l=r(12115);let a=(0,r(67909).default)(()=>Promise.all([r.e(128),r.e(804),r.e(761),r.e(619),r.e(717),r.e(75)]).then(r.bind(r,81075)),{loadableGenerated:{webpack:()=>[81075]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:"flex h-full items-center justify-center bg-gray-900 text-gray-500",children:"Loading map..."})});function o(e){let{markers:t,categories:r}=e,[o,s]=(0,l.useState)(""),[u,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(0),f=(0,l.useMemo)(()=>Array.from(new Set(t.map(e=>e.vendor))).sort(),[t]),b=(0,l.useMemo)(()=>{let e=t;if(o){let t=o.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.city&&e.city.toLowerCase().includes(t))}return u&&(e=e.filter(e=>e.vendor===u)),c>0&&(e=e.filter(e=>e.booksHeld>=c)),e},[t,o,u,c]);return(0,n.jsxs)("div",{className:"flex h-[calc(100vh-4rem)] flex-col lg:flex-row",children:[(0,n.jsxs)("div",{className:"flex-shrink-0 border-b border-gray-800 bg-gray-950 p-4 lg:w-72 lg:border-b-0 lg:border-r lg:overflow-y-auto",children:[(0,n.jsx)("h1",{className:"mb-4 text-lg font-bold text-white",children:"Texas Libraries"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("input",{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Search by name or city...",className:"w-full rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-gray-200 placeholder-gray-500 focus:border-blue-500 focus:outline-none"}),(0,n.jsxs)("select",{value:u,onChange:e=>i(e.target.value),className:"w-full rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-gray-200 focus:border-blue-500 focus:outline-none",children:[(0,n.jsx)("option",{value:"",children:"All vendors"}),f.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-xs text-gray-500 mb-1",children:["Min books held: ",c]}),(0,n.jsx)("input",{type:"range",min:0,max:100,value:c,onChange:e=>d(parseInt(e.target.value,10)),className:"w-full"})]})]}),(0,n.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Showing ",b.length," of ",t.length," libraries"]})]}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(a,{markers:b})})]})}},24437:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(24553)},36552:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(95155),r(47650),r(8567),r(77278)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return s}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let l="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return l?new l:new n}function o(e){return l?l.bind(e):n.bind(e)}function s(){return l?l.snapshot():function(e,...t){return e(...t)}}},67909:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var n=r(86278),l=r.n(n)},86278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(28140)._(r(1150));function l(e,t){var r;let l={};"function"==typeof e&&(l.loader=e);let a={...l,...t};return(0,n.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{e.O(0,[441,255,358],()=>e(e.s=11754)),_N_E=e.O()}]);