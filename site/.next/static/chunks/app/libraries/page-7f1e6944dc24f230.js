(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{20975:(e,r,t)=>{"use strict";t.d(r,{Q:()=>s});var a=t(95155),l=t(76445);function s(e){let{searchValue:r,onSearchChange:t,searchPlaceholder:s="Search...",filters:n,className:o}=e;return(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-3 sm:flex-row sm:items-center",o),children:[(0,a.jsx)("input",{type:"text",value:r,onChange:e=>t(e.target.value),placeholder:s,className:"rounded-md border border-gray-700 bg-gray-900 px-4 py-2 text-sm text-gray-200 placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:w-72"}),null==n?void 0:n.map(e=>(0,a.jsxs)("select",{value:e.value,onChange:r=>e.onChange(r.target.value),className:"rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-gray-200 focus:border-blue-500 focus:outline-none",children:[(0,a.jsx)("option",{value:"",children:e.label}),e.options.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]},e.key))]})}},52799:(e,r,t)=>{"use strict";t.d(r,{Ex:()=>n,VD:()=>i,gq:()=>d});var a=t(95155),l=t(76445);let s={default:"bg-gray-800 text-gray-300",blue:"bg-blue-900/50 text-blue-300",green:"bg-green-900/50 text-green-300",yellow:"bg-yellow-900/50 text-yellow-300",red:"bg-red-900/50 text-red-300",purple:"bg-purple-900/50 text-purple-300",pink:"bg-pink-900/50 text-pink-300"};function n(e){let{children:r,variant:t="default",className:n}=e;return(0,a.jsx)("span",{className:(0,l.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",s[t],n),children:r})}let o={young_children:"green",middle_grade:"blue",young_adult:"yellow",adult:"red"};function d(e){var r;let{audience:t,label:l}=e;return(0,a.jsx)(n,{variant:null!=(r=o[t])?r:"default",children:l})}function i(e){let{label:r}=e;return(0,a.jsx)(n,{variant:"purple",children:r})}},56830:(e,r,t)=>{"use strict";t.d(r,{b:()=>n});var a=t(95155),l=t(12115),s=t(76445);function n(e){let{data:r,columns:t,pageSize:n=25,className:o,getRowKey:d}=e,[i,c]=(0,l.useState)(0),[u,x]=(0,l.useState)(null),[m,b]=(0,l.useState)("desc"),g=(0,l.useMemo)(()=>{if(!u)return r;let e=t.find(e=>e.key===u);return(null==e?void 0:e.sortValue)?[...r].sort((r,t)=>{let a=e.sortValue(r),l=e.sortValue(t),s="number"==typeof a&&"number"==typeof l?a-l:String(a).localeCompare(String(l));return"asc"===m?s:-s}):r},[r,u,m,t]),h=Math.ceil(g.length/n),y=g.slice(i*n,(i+1)*n);return(0,a.jsxs)("div",{className:(0,s.cn)("overflow-x-auto",o),children:[(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:"border-b border-gray-800",children:t.map(e=>(0,a.jsx)("th",{className:(0,s.cn)("px-4 py-3 text-left font-medium text-gray-400",e.sortable&&"cursor-pointer select-none hover:text-gray-200",e.className),onClick:e.sortable?()=>{var r;u===(r=e.key)?b(e=>"asc"===e?"desc":"asc"):(x(r),b("desc")),c(0)}:void 0,children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[e.header,e.sortable&&u===e.key&&(0,a.jsx)("span",{className:"text-xs",children:"asc"===m?"▲":"▼"})]})},e.key))})}),(0,a.jsx)("tbody",{children:y.map(e=>(0,a.jsx)("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:t.map(r=>(0,a.jsx)("td",{className:(0,s.cn)("px-4 py-3",r.className),children:r.render(e)},r.key))},d(e)))})]}),h>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-800 px-4 py-3",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",i*n+1,"-",Math.min((i+1)*n,g.length)," of"," ",g.length]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>c(e=>Math.max(0,e-1)),disabled:0===i,className:"rounded-md border border-gray-700 px-3 py-1 text-sm text-gray-300 hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>c(e=>Math.min(h-1,e+1)),disabled:i>=h-1,className:"rounded-md border border-gray-700 px-3 py-1 text-sm text-gray-300 hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}},65862:(e,r,t)=>{"use strict";t.d(r,{LibrariesClient:()=>u});var a=t(95155),l=t(12115),s=t(52619),n=t.n(s),o=t(20975),d=t(56830),i=t(52799);let c=[{key:"name",header:"Library",sortable:!0,sortValue:e=>e.name,render:e=>(0,a.jsx)(n(),{href:"/libraries/".concat(e.id),className:"font-medium text-blue-400 hover:text-blue-300",children:e.name})},{key:"city",header:"City",sortable:!0,sortValue:e=>{var r;return null!=(r=e.city)?r:""},render:e=>{var r;return(0,a.jsx)("span",{className:"text-gray-400",children:null!=(r=e.city)?r:"-"})}},{key:"region",header:"Region",sortable:!0,sortValue:e=>e.region,render:e=>(0,a.jsx)("span",{className:"text-gray-400",children:e.region})},{key:"vendor",header:"Vendor",sortable:!0,sortValue:e=>e.vendor,render:e=>(0,a.jsx)(i.Ex,{children:e.vendor})},{key:"booksHeld",header:"Books Held",sortable:!0,className:"text-right",sortValue:e=>e.booksHeld,render:e=>(0,a.jsx)("span",{className:"font-mono text-gray-300",children:e.booksHeld})},{key:"totalCopies",header:"Total Copies",sortable:!0,className:"text-right",sortValue:e=>e.totalCopies,render:e=>(0,a.jsx)("span",{className:"font-mono text-gray-300",children:e.totalCopies})}];function u(e){let{libraries:r}=e,[t,s]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[u,x]=(0,l.useState)(""),m=(0,l.useMemo)(()=>Array.from(new Set(r.map(e=>e.region))).sort().map(e=>({value:e,label:e})),[r]),b=(0,l.useMemo)(()=>Array.from(new Set(r.map(e=>e.vendor))).sort().map(e=>({value:e,label:e})),[r]),g=(0,l.useMemo)(()=>{let e=r;if(t){let r=t.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(r)||e.city&&e.city.toLowerCase().includes(r)||e.id.toLowerCase().includes(r))}return n&&(e=e.filter(e=>e.region===n)),u&&(e=e.filter(e=>e.vendor===u)),e},[r,t,n,u]);return(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Libraries"}),(0,a.jsxs)("p",{className:"mt-1 text-gray-400",children:[r.length.toLocaleString()," library systems tracked"]})]}),(0,a.jsx)(o.Q,{searchValue:t,onSearchChange:s,searchPlaceholder:"Search by name or city...",filters:[{key:"region",label:"All regions",options:m,value:n,onChange:i},{key:"vendor",label:"All vendors",options:b,value:u,onChange:x}],className:"mb-6"}),(0,a.jsx)("div",{className:"rounded-lg border border-gray-800 bg-gray-900",children:(0,a.jsx)(d.b,{data:g,columns:c,getRowKey:e=>e.id,pageSize:25})})]})}},76445:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(2821),l=t(75889);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.QP)((0,a.$)(r))}},79795:(e,r,t)=>{Promise.resolve().then(t.bind(t,65862))}},e=>{e.O(0,[619,909,441,255,358],()=>e(e.s=79795)),_N_E=e.O()}]);